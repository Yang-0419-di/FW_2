<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>é–€å¸‚è³‡æ–™æŸ¥è©¢</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 40px; background-color: #f7f7f7; }
        h1 { text-align: center; color: #333; }
        form, .buttons { text-align: center; margin-bottom: 20px; }
        input[type="text"], select {
            padding: 10px;
            width: 160px;
            border-radius: 5px;
            border: 1px solid #ccc;
            margin: 5px;
        }
        button {
            padding: 10px 15px;
			font-size: 20px;
            margin: 5px;
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
		button.button-1 {
            padding: 10px 15px;
			font-size: 20px;
            margin: 5px;
            background-color: #20B2AA;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
		button.button-2 {
            padding: 10px 15px;
			font-size: 20px;
            margin: 5px;
            background-color: #FFA500;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
		button.button-3 {
            padding: 10px 15px;
			font-size: 20px;
            margin: 5px;
            background-color: #000000;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
		.button-row {
			display: flex;
			flex-wrap: wrap; /* è‡ªå‹•æ›è¡Œï¼ˆå¿…è¦æ™‚ï¼‰ */
			justify-content: flex-start; /* æˆ– center, space-between ç­‰çœ‹ä½ éœ€æ±‚ */
			gap: 10px; /* æŒ‰éˆ•ä¹‹é–“çš„é–“è· */
		}
		.button a,
		.button-1 a {
			text-decoration: none;
		}
        .table-container {
            overflow-y: auto;
            max-height: 600px;
            border: 1px solid #ccc;
        }
		.table-container-NO {
            overflow-y: visible;  /* ğŸ”¹ å–æ¶ˆæ»¾è»¸ï¼Œå…§å®¹è¶…å‡ºæœƒç›´æ¥æ’é–‹å®¹å™¨ */
			max-height: none;     /* ğŸ”¹ å–æ¶ˆé«˜åº¦é™åˆ¶ */
			border: 1px solid #ccc;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            background-color: white;
            table-layout: fixed;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: center;
            word-wrap: break-word;
        }
        th {
            background-color: #007BFF;
            color: white;
            position: sticky;
            top: 0;
            z-index: 2;
        }
        tr:hover { background-color: #f1f1f1; }
        .highlight-row td {
            color: red;
            font-weight: bold;
            border-top: 2px solid black;
        }
        .status-pm { background-color: red; color: white; }
        .status-replaced { color: green; }
        .status-not-replaced { color: red; }
        .status-repair {
            color: black;
            font-weight: bold;
            background-color: #d8ecff;
        }
        #backToTop {
            position: fixed;
            bottom: 230px;
            right: 30px;
            z-index: 1000;
            display: none;
            padding: 10px 15px;
            font-size: 16px;
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        #backToTop:hover {
            background-color: #0056b3;
        }
        .version-info {
            text-align: center;
            color: gray;
            font-size: 14px;
            margin-top: -25px;
            margin-bottom: 20px;
        }
		/* ç‰¹æ®Šæ¬„ä½èƒŒæ™¯è‰²æ¨™è¨˜ */
		.blue-bg { background-color: lightblue; }
		.orange-bg { background-color: orange; }
		.green-bg { background-color: lightgreen; }
		/* è®“ style è¡¨æ ¼å¯¬åº¦ä¸€è‡´ */
		.dataframe { width: 100% !important; border-collapse: collapse; }
		.dataframe th, .dataframe td {
			border: 1px solid #ccc;
			padding: 10px;
			text-align: center;
			word-break: break-word;
		}
		.dataframe th {
			background-color: #007BFF;
			color: white;
			position: sticky;
			top: 0;
			z-index: 1;
		}

    </style>

</head>
<body>
    <div class="content-wrap">
        <!-- æ¨™é¡Œèˆ‡ç‰ˆè™Ÿ -->
        <h1>
			{{ page_header or (
				"å‡ºå‹¤æ™‚é–“çµ±è¨ˆ" if time_page else
				"å ±ä¿®æŸ¥è©¢" if report_page else
				("PMQ4 å€‹äººæŸ¥è©¢: " ~ personal_page) if personal_page else
				"éƒ¨é–€æ’ç¨‹" if calendar_page else
				"TGå®¢æˆ¶ç³»çµ±" if billing_page else
				"PMQ4 éƒ¨é–€ç¸½è¦½"
			) }}
        </h1>

        {% if version %}
        <div class="version-info">ç‰ˆæœ¬ï¼š{{ version }}</div>
        {% endif %}

        <!-- æœå°‹æ¬„ä½ï¼ˆå­é å¯é€é template å‚³åƒæ•¸æ§åˆ¶æ˜¯å¦é¡¯ç¤ºï¼‰ -->
        <form method="get" style="text-align:center; margin-bottom:16px;">
            {% if not report_page and not calendar_page and not time_page and not billing_page %}
                <input type="text" name="keyword" placeholder="è«‹è¼¸å…¥é—œéµå­—æŸ¥è©¢" value="{{ keyword|default('') }}">
            {% endif %}
            {% if report_page %}
                <input type="text" name="store_id" placeholder="é–€å¸‚ç·¨è™Ÿ" value="{{ store_id|default('') }}">
                <select name="repair_item">
                    <option value="">-- é¸æ“‡å ±ä¿®é¡åˆ¥ --</option>
                    {% for item in [
                        'HL-TMä¸»æ©Ÿ', 'HL-ç†±æ„Ÿç™¼ç¥¨æ©Ÿ', 'HL-ç«‹å¼æƒæå™¨', 'HL-å¤šå¡æ©ŸQP3000E', 'HL-CCDæƒæå™¨(TM)',
                        'HL-CCDæƒæå™¨(SC)', 'HL-SCä¸»æ©Ÿ', 'HL-SCè¢å¹•', 'HL-HUB', 'HL-é›·å°„å°è¡¨æ©Ÿ', 'HL-4Gåˆ†äº«å™¨',
                        'HL-PepLinkè² è¼‰å¹³è¡¡å™¨', 'HL-LIFE-ETä¸»æ©Ÿ', 'HL-LIFE-ETç†±æ„Ÿæ©ŸT70II', 'HL-LIFE-ETå°ç¥¨æ©ŸL90',
                        'LIFE-ET æ¨™ç±¤å°è¡¨æ©Ÿ', 'HL-LIFE-ET QRcodeæƒæå™¨', 'HL-LIFE-ET ICæ™¶ç‰‡è®€å¡æ©Ÿ', 'HL-LIFE-ET æ¨™ç±¤å°è¡¨æ©Ÿ'
                    ] %}
                        <option value="{{ item }}" {% if repair_item == item %}selected{% endif %}>{{ item }}</option>
                    {% endfor %}
                </select>
            {% endif %}
            {% if not calendar_page and not time_page and not billing_page %}
                <button type="submit" class="btn btn-primary">æœå°‹</button>
            {% endif %}
        </form>

        <!-- å°è¦½æŒ‰éˆ•åˆ—ï¼ˆèªæ„æ­£ç¢ºçš„ a.btnï¼‰ -->
		{% if not billing_page %}
        <div class="button-row" role="navigation" aria-label="ä¸»è¦åŠŸèƒ½é¸å–®">
			<div class="button">
                <a href="{{ url_for('personal', name='å³å®—é´»') }}"><button class="button">å³å®—é´»</button></a>
                <a href="{{ url_for('personal', name='æ¹¯å®¶ç‘‹') }}"><button class="button">æ¹¯å®¶ç‘‹</button></a>
                <a href="{{ url_for('personal', name='ç‹„æ¾¤æ´‹') }}"><button class="button">ç‹„æ¾¤æ´‹</button></a>
			<div class="button-1">
				<a href="/report"><button class="button-1">å ±ä¿®æŸ¥è©¢</button></a>
				<a href="https://bot.toshibatec.com.tw/hl0800/showjob31.php" target="_blank" rel="noopener noreferrer">
					<button class="button-1">å ±ä¿®åˆŠç‰ˆ</button></a>
				<a href="https://imainte.toshibatec.com.tw/i_mainte_center2/login.cfm?CFID=258322&CFTOKEN=f58548bc0ee07d0d-A0165FB1-FFC4-BBD8-DC3EBB80DDEA857B" target="_blank" rel="noopener noreferrer">
					<button class="button-2">iMainte</button></a>
				<a href="http://eip.toshibatec.com.tw/Main.aspx" target="_blank" rel="noopener noreferrer">
					<button class="button-2">EIP</button></a>
				<a href="{{ url_for('time_page') }}"><button class="button-1">å‡ºå‹¤æ™‚é–“çµ±è¨ˆ</button></a>
				<a href="{{ url_for('calendar_page') }}"><button class="button-2">æ’ç¨‹è¡¨</button></a>
				<a href="{{ url_for('mfp_parts') }}"><button class="button-1">MFP_é›¶ä»¶è¡¨</button></a>
				<a href="{{ url_for('billing.index') }}"><button class="button-1">TGå®¢æˆ¶ç³»çµ±</button></a>
		{% endif %}
			{% if not home_page %}
			<a href="/"><button class="button-3">å›é¦–é </button></a>
			{% endif %}
			</div>	
        </div>

        <!-- ===== å­é å…§å®¹æ’å…¥é» ===== -->
        <main>
            {% block content %}
            <!-- å­é æœƒè¦†å¯«é€™å¡Š -->
            <div class="table-container">
                <p style="text-align:center; color:var(--muted); padding:20px 0;">è«‹åœ¨å­æ¨¡æ¿ä¸­å¡«å…¥å…§å®¹ã€‚ç¯„ä¾‹ï¼š{{ url_for('index') }}</p>
            </div>
            {% endblock %}
        </main>

        <!-- å›é ‚éƒ¨æŒ‰éˆ•ï¼ˆç•¶éœ€è¦å¯é¡¯ç¤ºï¼‰ -->
        <button id="backToTop" onclick="window.scrollTo({top:0, behavior:'smooth'});">å›é ‚éƒ¨</button>
    </div>

    <!-- ===== å…¨åŸŸè…³æœ¬ ===== -->
    <script>
        // ç°¡å–®çš„å›é ‚èˆ‡é¡¯ç¤ºæ§åˆ¶ï¼ˆå­é å¯è¦†å¯«æˆ–ä½¿ç”¨ extra_scripts blockï¼‰
        (function(){
            const btn = document.getElementById('backToTop');
            window.addEventListener('scroll', function(){
                if(window.scrollY > 400){
                    btn.style.display = 'block';
                } else {
                    btn.style.display = 'none';
                }
            });
        })();
    </script>

    <!-- ===== å­é å°ˆå±¬è…³æœ¬æ’å…¥é» ===== -->
    {% block extra_scripts %}
    {% endblock %}
</body>
</html>
