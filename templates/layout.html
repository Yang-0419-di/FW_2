<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>門市資料查詢</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 40px;
            background-color: #f7f7f7;
        }

        h1 {
            text-align: center;
            color: #333;
        }

        /* ======================
           按鈕樣式
        ====================== */
        button {
            padding: 10px 15px;
            font-size: 20px;
            margin: 5px;
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        button.button-1 { background-color: #20B2AA; }
        button.button-2 { background-color: #FFA500; }
        button.button-3 { background-color: #000000; }

        /* ======================
           導覽列
        ====================== */
        .button-row {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 10px;
        }

        .button-row a {
            text-decoration: none;
        }

        /* ======================
           Accordion（收合）
        ====================== */
        .accordion {
            display: inline-flex;
            flex-direction: column;
        }

        .accordion-button {
            padding: 10px 15px;
            font-size: 20px;
            background-color: #20B2AA;
            color: white;
            border-radius: 5px;
            cursor: pointer;
            border: none;
        }

        .accordion-content {
            display: none;
            padding-left: 10px;
            flex-wrap: wrap;
            gap: 5px;
        }

        .accordion-content.show {
            display: flex;
        }

        /* ======================
           表格與其他
        ====================== */
        .table-container {
            overflow-y: auto;
            max-height: 600px;
            border: 1px solid #ccc;
            background-color: white;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: center;
        }

        th {
            background-color: #007BFF;
            color: white;
            position: sticky;
            top: 0;
        }

        #backToTop {
            position: fixed;
            bottom: 230px;
            right: 30px;
            display: none;
            padding: 10px 15px;
            background-color: #007BFF;
            color: white;
            border-radius: 8px;
            cursor: pointer;
        }

        .version-info {
            text-align: center;
            color: gray;
            font-size: 14px;
            margin-bottom: 20px;
        }
		/* ======================
		   POS / MFP 專用 Outline 風格
		   參考「登記 / 編輯」
		====================== */
		.nav-outline-btn {
			padding: 6px 14px;
			font-size: 18px;
			font-weight: normal;          /* ✅ 取消粗體 */
			border: 2px solid #007BFF;    /* ✅ 藍色外框 */
			background-color: transparent;
			color: #007BFF;               /* ✅ 藍色文字 */
			border-radius: 6px;
			cursor: pointer;
			transition: all 0.2s ease;
		}

		.nav-outline-btn:hover {
			background-color: #007BFF;    /* hover 填滿藍色 */
			color: white;
		}
    </style>
</head>

<body>

<h1>
{{ page_header or (
    "出勤時間統計" if time_page else
    "報修查詢" if report_page else
    ("PMQ1 個人查詢: " ~ personal_page) if personal_page else
    "部門排程" if calendar_page else
    "TG客戶系統"
) }}
</h1>

{% if version %}
<div class="version-info">版本：{{ version }}</div>
{% endif %}

{% if not billing_page and not billing_invoice_log and not billing_mfp_summary and not billing_person %}

<!-- ======================
     第一列：一般功能
====================== -->
<div class="button-row" role="navigation">

    <a href="{{ url_for('personal', name='吳宗鴻') }}"><button>吳宗鴻</button></a>
    <a href="{{ url_for('personal', name='湯家瑋') }}"><button>湯家瑋</button></a>
    <a href="{{ url_for('personal', name='劉柏均') }}"><button>劉柏均</button></a>
    <a href="{{ url_for('personal', name='狄澤洋') }}"><button>狄澤洋</button></a>

    <a href="{{ url_for('time_page') }}"><button class="button-1">出勤時間統計</button></a>
    <a href="{{ url_for('calendar_page') }}"><button class="button-2">排程表</button></a>

    {% if not home_page %}
    <a href="/"><button class="button-3">回首頁</button></a>
    {% endif %}
</div>

<!-- ======================
     第二列：POS / MFP（同一列）
====================== -->
<div class="button-row">

	<!-- POS -->
	<div class="accordion">
		<button class="nav-outline-btn">POS相關</button>
		<div class="accordion-content">
			<a href="/report"><button class="button-1">報修紀錄查詢</button></a>
			<a href="https://bot.toshibatec.com.tw/hl0800/showjob31.php" target="_blank">
				<button class="button-1">報修刊版</button>
			</a>
			<a href="{{ url_for('countpass') }}"><button class="button-1">店長密碼</button></a>
		</div>
	</div>

	<!-- MFP -->
	<div class="accordion">
		<button class="nav-outline-btn">MFP相關</button>
		<div class="accordion-content">
			<a href="{{ url_for('mfp_parts') }}"><button class="button-1">MFP_零件表</button></a>
			<a href="{{ url_for('billing.index') }}"><button class="button-1">TG客戶系統</button></a>
		</div>
	</div>
	
	<!-- 常用連結 -->
	<div class="accordion">
		<button class="nav-outline-btn">常用連結</button>
		<div class="accordion-content">
			<a href="https://imainte.toshibatec.com.tw/i_mainte_center2/login.cfm" target="_blank">
				<button class="button-2">iMainte</button>
			</a>

			<a href="http://eip.toshibatec.com.tw/Main.aspx" target="_blank">
				<button class="button-2">EIP</button>
			</a>
		</div>
	</div>

</div>
{% endif %}

<!-- ======================
     子頁內容
====================== -->
<main>
{% block content %}
<div class="table-container">
    <p style="text-align:center;padding:20px;">請在子模板中填入內容</p>
</div>
{% endblock %}
</main>

<button id="backToTop" onclick="window.scrollTo({top:0, behavior:'smooth'})">回頂部</button>

<script>
document.querySelectorAll('.nav-outline-btn').forEach(btn => {
    btn.addEventListener('click', () => {
        btn.nextElementSibling.classList.toggle('show');
    });
});

window.addEventListener('scroll', () => {
    document.getElementById('backToTop').style.display =
        window.scrollY > 400 ? 'block' : 'none';
});
</script>

</body>
</html>
