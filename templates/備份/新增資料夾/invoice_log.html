{% extends "layout.html" %}
{% block content %}
<div style="padding:20px;">
  <h2>ğŸ“„ ç™¼ç¥¨ç´€éŒ„ â€” è¨­å‚™ï¼š{{ device_id }}</h2>

  <!-- ğŸ”¹ å¹´ä»½é¸æ“‡ -->
  <form method="get" action="{{ url_for('billing.invoice_log', device_id=device_id) }}" style="margin-bottom:15px;">
    <input type="hidden" name="device_id" value="{{ device_id }}">

    <label style="font-size:16px; font-weight:bold;">æŸ¥çœ‹å¹´ä»½ï¼š</label>
    <select name="year" onchange="this.form.submit()" style="font-size:16px; padding:4px 8px;">
      {% for y in range(current_year - 3, current_year + 2) %}
        <option value="{{ y }}" {% if y == selected_year %}selected{% endif %}>
          {{ y }} å¹´
        </option>
      {% endfor %}
    </select>
  </form>

  <p>é¡¯ç¤º {{ selected_year }} å¹´ 1 åˆ° 12 æœˆï¼Œè‹¥æŸæœˆç„¡ç´€éŒ„ç‚ºç©ºç™½ã€‚</p>

  <!-- ğŸ”¹ è¿”å›ä¸Šä¸€é æŒ‰éˆ• -->
  <div style="margin-bottom:10px;">
    <button type="button" onclick="history.back()" style="padding:10px 15px; font-size:18px;">
      â† è¿”å›ä¸Šä¸€é 
    </button>
  </div>

  <table border="1" cellpadding="6" cellspacing="0"
         style="border-collapse:collapse; width:100%; text-align:center;">
    <thead>
      <tr style="background:#f0f0f0;">
        <th style="min-width:80px;">æœˆä»½</th>
        <th>æŠ„è¡¨å¼µæ•¸ï¼ˆå½©è‰² A3ï¼‰</th>
        <th>æŠ„è¡¨å¼µæ•¸ï¼ˆå½©è‰²ï¼‰</th>
        <th>æŠ„è¡¨å¼µæ•¸ï¼ˆé»‘ç™½ï¼‰</th>
        <th>ç•¶æœˆä½¿ç”¨ï¼ˆå½©è‰² A3ï¼‰</th>
        <th>ç•¶æœˆä½¿ç”¨ï¼ˆå½©è‰²ï¼‰</th>
        <th>ç•¶æœˆä½¿ç”¨ï¼ˆé»‘ç™½ï¼‰</th>
        <th>ç•¶æœˆæ”¶è²»å¼µæ•¸ï¼ˆå½©è‰² A3ï¼‰</th>
        <th>ç•¶æœˆæ”¶è²»å¼µæ•¸ï¼ˆå½©è‰²ï¼‰</th>
        <th>ç•¶æœˆæ”¶è²»å¼µæ•¸ï¼ˆé»‘ç™½ï¼‰</th>
        <th>å½©è‰² A3 æ”¶è²»é‡‘é¡</th>
        <th>å½©è‰²æ”¶è²»é‡‘é¡</th>
        <th>é»‘ç™½æ”¶è²»é‡‘é¡</th>
        <th>æœˆç§Ÿé‡‘</th>
        <th style="background:#d8f2d8; font-weight:bold;">æœªç¨…å°è¨ˆ</th>
        <th style="background:#f8d8c8; font-weight:bold;">ç¨…é¡</th>
        <th style="background:#d0f0f0; font-weight:bold;">å«ç¨…ç¸½é¡</th>
      </tr>
    </thead>
    <tbody>
      {% for m in range(1,13) %}
      <tr>
        <td style="font-weight:bold;">{{ m }} æœˆ</td>
        <td>{{ months[m].color_a3_total }}</td>
        <td>{{ months[m].color_total }}</td>
        <td>{{ months[m].bw_total }}</td>
        <td>{{ months[m].color_a3_usage }}</td>
        <td>{{ months[m].color_usage }}</td>
        <td>{{ months[m].bw_usage }}</td>
        <td>{{ months[m].color_a3_bill_usage }}</td>
        <td>{{ months[m].color_bill_usage }}</td>
        <td>{{ months[m].bw_bill_usage }}</td>
        <td>{{ months[m].color_a3_amount }}</td>
        <td>{{ months[m].color_amount }}</td>
        <td>{{ months[m].bw_amount }}</td>
        <td>{{ months[m].monthly_rent }}</td>
        <td style="background:#f7fff0;">{{ months[m].untaxed_subtotal }}</td>
        <td style="background:#fff7f0;">{{ months[m].tax_amount }}</td>
        <td style="background:#f0fff7;">{{ months[m].total_with_tax }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <div style="margin-top:15px;">
    <button type="button" onclick="history.back()" style="padding:10px 15px; font-size:18px;">
      â† è¿”å›ä¸Šä¸€é 
    </button>
  </div>
</div>
{% endblock %}
